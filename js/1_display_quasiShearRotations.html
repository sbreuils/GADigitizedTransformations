<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>New Distribution of angles for bijective rotations</title>
  <style>
    body { margin: 0; }
    canvas { display: block; }
  </style>
</head>
<body>
<script src="http://threejs.org/build/three.js"></script>
<script src="http://threejs.org/examples/js/libs/stats.min.js"></script>
<script src=DigitizedGeometryCreation.js></script>
<script src=GridUtilities.js></script>
<script src=DigitizedTransformation.js></script>
<script src="lodash.js"></script>
<script>


  // Our Javascript will go here.
  var scene = new THREE.Scene();
  var camera = new THREE.PerspectiveCamera( 75, window.innerWidth / window.innerHeight, 0.1, 1000 );
  var camZPos = 8; // 24
  camera.position.z = camZPos;

  // add the grid of points
  let N=7;
  let posSquare = 3;
  let geometry_Grid = createGrid(N);

  console.log("create the z2 grid ...")

  let XminScene = -(~~(N/2));
  let XmaxScene = (~~(N/2));


  let geometry_Cells = createCells(N,XminScene,XmaxScene);
  scene.add(geometry_Cells );


  console.log("reflect the z2 grid using a bijective digitized reflection  ...")

  // compare with digital rotation obtained via reflections
  let reflectedGrid = digitalReflectionOfPoints(geometry_Grid,[-1.0,2.0,0.0,0.0]);
  scene.add(reflectedGrid);

  let setRemaindersVectors = setOfRemainders(reflectedGrid);
  scene.add(setRemaindersVectors);

  // have to compute the digitization and the other digitized reflection
  let digitizedreflectedGrid = new THREE.Geometry();
  digitizedreflectedGrid.vertices = _.cloneDeep(points_i.geometry.vertices);//JSON.parse(JSON.stringify(points_i.geometry.vertices));
  digitizedreflectedGrid.colors = _.cloneDeep(points_i.geometry.colors);
  discretizeGeometry(digitizedreflectedGrid);


  /////////////////////////         TIME TO RENDER        ///////////////////////////////
  // add the renderer to put the scene
  var renderer = new THREE.WebGLRenderer();
  renderer.setSize(window.innerWidth,window.innerHeight);
  renderer.setClearColor(0xffffff);
  document.body.appendChild( renderer.domElement );

  // Animate function and call it
  var animate = function () {
    requestAnimationFrame( animate );

    renderer.render( scene, camera );
  };

  animate();



</script>
</body>
</html>
